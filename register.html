<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar - ¡¿Qué está haciendo?!</title>
     <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="loadingOverlay" class="loading-overlay"><div class="spinner"></div><p>Verificando sesión...</p></div>

    <div class="container">
        <main>
            <div class="user-info-bar">
                <span id="userInfo">Cargando...</span>
                <button id="logoutButton" style="display: none;">Salir</button>
            </div>

            <div id="registerPage">
                 <h2>Registrar Evaluación</h2>
                  <div class="limit-info">
                     Registros restantes hoy: <span id="registrationLimit" style="font-weight: bold;">?</span>
                     </div>
                 <hr>
                 <form id="registerReviewForm" novalidate>
                      <label for="registerTipo">Tipo de Placa:</label>
                      <select id="registerTipo" name="tipo" required>
                           <option value="">Seleccione...</option>
                           </select>

                      <label for="registerPlaca">Número de Placa:</label>
                      <input type="text" id="registerPlaca" name="placa" required maxlength="6" pattern="[A-Za-z0-9]{1,6}" placeholder="ABC123 / 123456">
                      <small>Máximo 6 letras/números.</small>

                      <label>Evaluación (1=Malo, 5=Excelente):</label>
                      <div class="rating-input" id="registerRating">
                            <label title="1 estrella"><input type="radio" name="rating" value="1" required><span class="star-label">★</span></label>
                            <label title="2 estrellas"><input type="radio" name="rating" value="2"><span class="star-label">★</span></label>
                            <label title="3 estrellas"><input type="radio" name="rating" value="3"><span class="star-label">★</span></label>
                            <label title="4 estrellas"><input type="radio" name="rating" value="4"><span class="star-label">★</span></label>
                            <label title="1 estrellas"><input type="radio" name="rating" value="5"><span class="star-label">★</span></label>
                      </div>

                      <label for="registerComentario">Comentario (Opcional, máx 200):</label>
                      <textarea id="registerComentario" name="comentario" maxlength="200" rows="3" placeholder="Describe tu experiencia..."></textarea>

                      <div id="registerMessage" class="message"></div>
                      <button type="submit" id="submitReviewBtn" class="main-button" data-original-text="Enviar Evaluación">Enviar Evaluación</button>
                 </form>
            </div>
        </main>


    </div>

     <script type="module" src="js/firebase-init.js"></script>
     <script type="module" src="js/common.js"></script>
     <script type="module" src="js/database-logic.js"></script>
     <script type="module" src="js/register-logic.js"></script>
</body>
</html>